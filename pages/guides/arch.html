<!DOCTYPE HTML>
<html>
    <head>
        <title>Dimitris Tzikas</title>
        <meta charset="UTF-8">

        <style type="text/css">
        	#code{
        		border:1px solid black;
	        	background-color:#EEEEFF;
    		    white-space: pre-line;
		        padding:10px;
		        font-size:0.9em;
        	}
        </style>
    </head>
    <body>

        <h1 style="text-align: center;">Οδηγός εγκατάστασης Arch linux</h1>
        <hr>
        <ul>
        	<li><a href="#net">Network</a></li>
        	<ul>
        		<li><a href="#wifi">Wifi</a></li>
        		<li><a href="#eth">Ethernet</a></li>
        	</ul>
        	<li><a href="#partitioning">Partitioning</a></li>
        	<li><a href="#formating">Formating</a></li>
        	<li><a href="#installing">Installing Arch</a></li>
        	<li><a href="#settings">Settings</a></li>
        	<li><a href="#grub">Installing grub</a></li>
        	<li><a href="#done">Done</a></li>
        </ul>
        <hr>

    	<h3 id="net">Network</h3>
    	<h4 id="wifi">Wifi</h4>
    	<p>Για να συνδεθείτε στο wifi πατήστε την εντολή wifi-menu και διαλέξτε το wifi που επιθυμείτε.</p>
    	<h4 id="eth">Ethernet</h4>
		<p>Για να συνδεθείτε στο δίκτυο εκτελέστε την εντολή dhcpcd.</p>
        
        <p>
        	<span style="color: red; font-weight: bold;">Προσοχή!</span> Πριν κάνετε οτιδήποτε καλό θα ήταν να βεβαιωθείτε πως ο υπολογιστής σας δεν έχει σημαντικά δεδομένα.
        </p>
        <p>
	       	Το πρώτο πράγμα που έχουμε να κάνουμε για να εγκαταστήσουμε ένα λειτουργικό σύστημα είναι να διαμορφώσουμε το μέσο αποθήκευσης δεδομένων. Αυτό λοιπών είναι το πρώτο βήμα για να κάνουμε την εγκατάσταση τον Arch.
        </p>
        <p>
        	Για να δούμε τους δίσκους που υπάρχουν στο σύστημα μας πρέπει να εκτελέσουμε την εξής εντολή (Αν θέλετε να δείτε το εγχειρίδιο της εντολής πατήστε πάνω της):
        </p>
        <p id="code"><a href="https://linux.die.net/man/8/lsblk" target="_blank">lsblk</a></p>
        ή
        <p id="code"><a href="https://linux.die.net/man/8/fdisk" target="_blank">fdisk -l</a></p>
        ή
        <p id="code"><a href="https://linux.die.net/man/1/ls" target="_blank">ls -al /dev/disk/by-id</a></p>

        <h3 id="partitioning">Partitioning</h3>
        <p>
        	Για να διαμορφώσουμε τον δίσκο πρέπει να εκτελέσουμε την εξής εντολή:
        </p>
        <p id="code">fdisk /dev/sda</p>
        <p>
        	Τώρα βρισκόμαστε στη διεπαφή του fdisk. Για να δείτε τις διαθέσιμε εντολές πατήστε m. Πριν συνεχίσουμε πρέπει να δημιουργήσουμε τα partitions που θέλουμε να έχουμε, δεν υπάρχει κάποιος συγκεκριμένος ή κατάλληλος τρόπος για να το κάνουμε αυτό αλλά είναι θέμα προτίμησης. Για το παράδειγμα θα υποθέσουμε πως θέλουμε να δημιουργήσουμε δύο partitions το main και το boot. Σε αυτό το σημείο πρέπει να δημιουργήσουμε ένα καινούριο DOS partition table, για να το κάνουμε αυτό πρέπει να πατήσουμε o. 
        </p>
        <p>
        	Τώρα πρέπει να δημιουργήσουμε το πρώτο μας partition το boot, για να το κάνουμε αυτό πατάμε το πλήκτρο n. Ο τύπος του partition πρέπει να είναι <a href="http://tldp.org/HOWTO/Partition/partition-types.html" target="_blank">primary</a> και η χωρητικότητα του 512M.
        </p>
        <p>
        	Μόλις πατήσετε το πλήκτρο n, θα σας ρωτήσει αν θέλετε να είναι primary το partition ή extended, πατήστε p για primary κατόπιν θα σας ρωτήσει τι αριθμό θέλετε να έχει το partition, επιλέξτε 1, η επόμενη ερώτηση ρωτάει που θέλετε να ξεκινάει το partition, αφήστε την τιμή που έχει και τέλος ζητάει πόσο μεγάλο θέλετε να είναι το partition, πατήστε +512Μ. Επίσης θέλουμε το boot partition να είναι bootable για να το κάνουμε αυτό πρέπει να πατήσουμε το πλήκτρο a για να ενεργοποιήσει την bootable flag.
        </p>
        <p>
        	Για το επόμενο partition πατήστε o και μετά απλός αφήστε την επιλεγμένες επιλογές.
        </p>
        <p>
        	Για να εφαρμοστούν οι αλλαγές μας πρέπει να πατήσουμε το w.
        </p>
        <p>
        	Μόλις ολοκληρώσαμε επιτυχώς το πρώτο βήμα, δημιουργήσουμε τα partitions!
        </p>

        <h3 id="formating">Formating</h3>
        <p>
        	Στο βήμα της μορφοποίησης πρέπει να βάλουμε ένα σύστημα αρχείων στα διαμερίσματα που δημιουργήσαμε, για να το κάνουμε αυτό πρέπει να εκτελέσουμε τις παρακάτω εντολές:
        </p>
        <p id="code">mkfs.ext4 /dev/sda1</p>
        και
        <p id="code">mkfs.ext4 /dev/sda2</p>
        <p>
			Τώρα αφού έχουμε δημιουργήσει το σύστημα αρχείων στα διαμερίσματα μας πρέπει να τα τοποθετήσουμε κάπου στο τρέχον <a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace" target="_blank">σύστημα αρχείων χρήστη</a>, Το σημείο που θα τοποθετήσουμε τα διαμερίσματα μας είναι στο mnt και πρώτα θα τοποθετήσουμε το main και κατόπιν θα δημιουργήσουμε ένα κατάλογο στο main με όνομα boot και θα τοποθετήσουμε το boot στον κατάλογο. Για να το κάνουμε αυτό πρέπει να εκτελέσουμε αυτές τις εντολές:
        </p>
        <p id="code">mount /dev/sda2 /mnt</p>
        <p id="code">mkdir /mnt/boot</p>
        <p id="code">mount /dev/sda1 /mnt/boot</p>
        <p>Μόλις ολοκληρώσαμε και το δεύτερο τμήμα για την μορφοποίηση του δίσκου. Τώρα μπορούμε να συνεχίσουμε με την εγκατάσταση των Arch linux.</p>

        <h3 id="installing">Installing arch</h3>
        <p>
        	Για να κάνουμε κατεβάσουμε και να εγκαταστήσουμε τα arch πρέπει να εκτελέσουμε αυτήν την εντολή:
        </p>
        <p id="code">pacstrap /mnt base</p>
        <p>Μόλις τελειώσει η εγκατάσταση πρέπει να πούμε στο λειτουργικό σύστημα πως πρέπει οι δίσκοι, block και τα λοιπά να τοποθετηθούν στο σύστημα αρχείων. Για να το κάνουμε αυτό πρέπει να εκτελέσουμε την εξής εντολή:</p>
        <p id="code">genfstab /mnt >> /mnt/etc/fstab</p>
        <p>Για να μάθετε περισσότερα για το fstab πατήστε <a href="https://jlk.fjfi.cvut.cz/arch/manpages/man/fstab.5">εδώ</a>.</p>
        <p>
        	Η εντολή genfstab απλός δημιουργεί ένα κείμενο και το εκτυπώνει στην κανονική έξοδο του τερματικού, το κείμενο περιλαμβάνει πληροφορίες για το πως πρέπει να γίνουν όλα τα mount από το λειτουργικό σύστημα.
        </p>
        <p>Συγχαρητήρια μόλις εγκατέστησες τα Arch linux! Αυτό όμως δεν σημαίνει πως τελειώσαμε εδώ, έχουμε ακόμα δρόμο μέχρι να μπορέσει το λειτουργικό μας σύστημα να σταθεί μόνο του. </p>

        <h3 id="settings">Settings</h3>
        <p>Πριν κάνουμε κάτι στο σύστημα μας πρέπει πρώτα να μπούμε σε αυτό, για να το κάνουμε αυτό πρέπει να εκτελέσουμε την εντολή που βρίσκεται παρακάτω:</p>
        <p id="code"><a href="https://en.wikipedia.org/wiki/Chroot" target="_blank">arch-chroot</a> /mnt</p>
        <p>Αχχ μυρίζει καινούριο λειτουργικό σύστημα εδώ! ;)</p>
        <p>Ας δώσουμε στο root χρήστη έναν κωδικό για να μην κλειδωθούμε έξω από το λειτουργικό σύστημα μας.</p>
        <p id="code"><a href="https://linux.die.net/man/5/passwd" target="_blank">passwd</a></p>
        <p>Πατήστε δύο φορές τον κωδικό σας.</p>
        <p>Αν χρησιμοποιείτε wifi πρέπει να κατεβάσετε τα πακέτα wifi-menu, dialog και wpa_supplicant</p>
        <p id="code">pacman -S wifi-menu dialog wpa_supplicant</p>
        <p>Τώρα ας δημιουργήσουμε το initial ramdisk environment:</p>
        <p id="code"><a href="https://jlk.fjfi.cvut.cz/arch/manpages/man/mkinitcpio.8" target="_blank">mkinitcpio</a> -p linux</p>
        <p>Αυτό το βήμα συνήθως γίνεται όταν ολοκληρώνεται η εγκατάσταση του συστήματος οπότε αν δεν έχετε κάνει κάποια αλλαγή στο /etc/mkinitcpio.conf  μπορείτε να παραλείψετε αυτό το βήμα. Στη περίπτωση που δεν κάνατε καμία αλλαγή και εκτελέσετε την εντολή δεν υπάρχει κανένα πρόβλημα.</p>
        <p>Το initial ramdisk environment είναι ένα μικρό περιβάλλον όπου φορτώνει τμήματα του πυρήνα και εκτελεί και κάποιες άλλες λειτουργίες μέχρι να δώσει τον έλεγχο στο init.</p>

        <h3 id="grub">Installing grub</h3>
        <p>Το τελευταίο βήμα που έχουμε να κάνουμε είναι να εγκαταστήσουμε το grub. Το grub είναι ένας boot manager όπου αυτό που έχει να κάνει είναι να διαλέξει ποιο λειτουργικό σύστημα θα φορτώσει αλλά πρέπει να ξέρει και που βρίσκεται αυτό το λειτουργικό σύστημα.</p>
        <p>Για να εγκαταστήσουμε το grub πρέπει να εκτελέσουμε αυτήν την εντολή:</p>
        <p id="code">pacman -S grub</p>
        <p>Για να εγκαταστήσουμε το grub στο σύστημα μας πρέπει να εκτελέσουμε την εξής εντολή:</p>
        <p id="code">grub-install /dev/sda</p>
        <p>Ο sda είναι ο δίσκος που κάνουμε εγκατάσταση το λειτουργικό σύστημα, εσείς επιλέξετε τον δίσκο που διαλέξατε, δηλαδή αν στις πρώτες εντολές είχατε το partition /dev/sdc1 τώρα πατήστε /dev/sdc.</p>
        <p>Το τελευταίο που έχουμε να κάνουμε είναι να δημιουργήσουμε τις ρυθμίσεις του grub, για να το κάνουμε αυτό πρέπει να εκτελέσουμε την εντολή που βρίσκεται από κάτω:</p>
        <p id="code">grub-mkconfig -o /boot/grub/grub.cfg</p>

        <h3 id="done">Done</h3>
        <p>Ωραία τώρα μπορείτε να κάνετε reboot και είστε έτοιμοι. Για να κάνετε reboot πατήστε τις εξής εντολές:</p>
        <p id="code">exit <br> umount /mnt -R <br> reboot</p>

</body>
</html>
